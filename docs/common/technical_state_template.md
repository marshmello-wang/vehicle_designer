# 技术现状 Technical State

---

## 1. 技术栈概览 Tech Stack

### 1.1 运行环境
- **前端**: {框架} {版本} + {语言} {版本} + {构建工具} {版本}
- **后端**: {语言} {版本} + {框架} {版本}
- **数据库**: {数据库} {版本} + {缓存} {版本}
- **部署**: {容器化方案} + {编排工具} ({云平台})
- **监控**: {监控工具} + {可视化工具}

### 1.2 关键依赖
| 依赖项 | 版本 | 用途 | 升级阻碍 |
|--------|------|------|----------|
| {依赖名} | {版本号} | {一句话说明} | {✅无 / ⚠️问题描述} |

---

## 2. 系统架构 Architecture

### 2.1 分层结构
| 层级 | 层名 | 核心职责 | 对外接口 | 依赖下层 |
|------|------|----------|----------|----------|
| L4 | {层名} | {职责1}, {职责2} | {API类型/协议} | {下层名称} |
| L3 | {层名} | {职责1}, {职责2} | {API类型/协议} | {下层名称} |
| L2 | {层名} | {职责1}, {职责2} | {API类型/协议} | {下层名称} |
| L1 | {层名} | {职责1}, {职责2} | - | - |

### 2.2 架构约束
- **响应时间**: {性能指标}
- **并发**: {并发要求} (当前峰值 {实际值})
- **可用性**: {可用性目标} (月度)
- **安全**: {安全标准/合规要求}

---

## 3. 核心数据模型 Data Models

### 3.1 实体定义

#### `{实体名}`
**业务含义**: {该实体在业务中代表什么}

**核心属性**:
| 属性名 | 类型 | 必填 | 说明 | 约束 |
|--------|------|------|------|------|
| {属性名} | {数据类型} | {是/否} | {业务含义} | {唯一/非空/范围等} |
| {属性名} | {数据类型} | {是/否} | {业务含义} | {唯一/非空/范围等} |

**生命周期**: {何时创建，何时更新，何时删除/归档}

### 3.2 实体关系

#### `{实体A}` 与 `{实体B}`
- **关系类型**: {1:1 / 1:N / N:M}
- **关系描述**: {实体A} {关系动词} {实体B}
- **约束**: {级联删除/限制删除/可选关系等}
- **业务规则**: {关系存在的业务前提条件}

### 3.3 存储方案

#### `{实体名}` 存储
**存储介质**: {关系数据库表 / NoSQL集合 / 对象存储 / 缓存}

**Schema定义**:
```{sql/json/yaml等}  
{存储schema的具体定义}  
```

---

## 4. 模块清单 Module Inventory

### 4.1 前端模块

#### `{模块路径/命名空间}`
- **状态**: {✅已完成 / 🚧开发中(进度%) / ⚠️有问题}
- **功能**: {一句话功能描述}
- **入口**: `{入口文件路径}`
- **关键文件**:
  - `{文件名}` - {职责说明}
  - `{文件名}` - {职责说明}
- **依赖模块**: `{依赖的其他模块}`, `{第三方库}`
- **被依赖**: `{哪些模块依赖此模块}`
- **测试覆盖率**: {百分比}%
- **待完成** (仅状态为🚧时):
  - [ ] {待完成项1}
  - [ ] {待完成项2}
- **技术债** (仅有问题时):
  - {优先级emoji} {问题描述} (#{issue编号})

### 4.2 后端模块

#### `{模块命名空间}`
- **状态**: {✅已完成 / 🚧开发中(进度%) / ⚠️有问题}
- **路径**: `{API路径前缀}` (如果是API模块)
- **功能**: {一句话功能描述}
- **端点** (仅API模块):
  - `{METHOD} {path}` - {功能} → {返回内容}
  - `{METHOD} {path}` - {功能} → {返回内容}
- **文件**: `{主文件路径}`
- **核心类/函数**:
  - `{类名/函数名}` - {职责}
- **依赖模块**: `{依赖的其他模块}`
- **被依赖**: `{哪些模块依赖此模块}`
- **测试**: `{测试文件路径}` (覆盖率{百分比}%)
- **待完成** (仅状态为🚧时):
  - [ ] {待完成项}
- **技术债** (仅有问题时):
  - {优先级emoji} {问题描述} (#{issue编号})

---

### 5. 核心接口

**{模块名}.{函数/方法签名}**
- **用途**: {功能描述}
- **输入**: {参数说明}
- **返回**: {返回值说明}
- **实现**: {实现文件路径}
- **调用方**: {哪些模块会调用此接口}
- **注意事项**: {特殊说明，如性能考虑、并发安全}

### 6. 性能与成本限制