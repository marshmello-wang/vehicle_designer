task_map编写指南（供AI参考）
1. 首次编写建议（重要）
在首次编写 task_map 时：
- 先拆分 Sprint：明确本阶段包含哪些 Sprint 及其高层目标。
- 专注当前 Sprint：优先完整列出“🚧 Doing（进行中）”与“✅ Done（已完成）”两部分的 Task 列表与预期目标。
- 暂缓未来拆分：不要急于细分未来 Sprint 的 Task，仅保留高层目标或将事项放入“📋 Planned”。后续在沟通中逐步补全。

2. Sprint编号规则
命名格式：`YYYY-M{月}W{周}`

- 示例：`2025-M2W1` 表示 2025 年 2 月第 1 周；两周迭代可写成范围：`2025-M2W1~M2W2`。
- 周定义：按自然周，周一至周日。
- W1 定义：包含当月 1 日的自然周记为该月的 `W1`，之后依次递增（W2、W3…）。
- 跨月迭代：用起止两端完整标注，例如 `2025-M1W5~2025-M2W1`。
- 呈现规范（建议）：`当前Sprint：Sprint 2025-M2W1 (~M2W2) ([开始日期] ~ [结束日期])`。
- 变更记录：任何编号或起止日期调整，需在“变更日志”登记。


3. 本Sprint焦点的编写技巧
原则：
- 数量：2-5个，不宜过多
- 粒度：比单个Task粗，是一组Task的集合
- 语言：业务视角，非技术人员也能理解

模式：
- 打通XX流程：[起点] → [终点] 的端到端能力
- 上线XX功能：[核心价值] + [可演示的结果]
- 清理XX技术债：[具体问题] + [对业务的影响]

示例：
✅ "打通支付流程：用户下单 → 支付成功 → 订单确认"
✅ "上线推荐引擎：基于用户行为推荐商品，点击率提升20%"
❌ "完成F-D-001到F-D-020"（太技术化）


4. 任务数量与聚合规则
- 数量控制：每个 Sprint 的“🚧 Doing（进行中）”控制在3–5个高层任务，避免过度拆分。
- 聚合方式：按功能或价值链路聚合，如“方舟API打通”“样例与模板”“最小演示链路”“演示复现”等。
- 细节下沉：实现细节与子任务放入 `docs/project/task_<task_id>.md`（基于 `docs/common/task_<task_id>_template.md`），而非在 task_map.md 展开。
- 验收合并：自动化测试/CI优先作为各任务的验收标准嵌入，不单列为独立任务（除非测试/平台本身即为核心交付）。
- 命名建议：采用清晰、业务可读的任务名，避免使用过多技术术语堆叠；必要时在备注中说明技术要点。


5. Task ID命名规则
[前缀]-[模块缩写]-[序号]

前缀：
- F: Task（任务）
- TD: Technical Debt（技术债）
- BUG: Bug修复
- F-X: Icebox中的功能

模块缩写示例：
- D: Data（数据）
- M: Model（建模）
- A: API（接口）
- F: Frontend（前端）
- S: Scheduler（调度）
- O: Ops（运维）

示例：
- F-D-001：数据模块的第1个任务
- TD-M-005：建模模块的第5个技术债
- F-X-001：第1个暂不做的功能

6. 优先级定义
P0：本迭代必须完成，否则无法达成里程碑
P1：重要但可延后1个Sprint
P2：改进性功能，资源充裕时做
P3：暂不排期

7. 状态流转规则
📋 Planned → 🚧 Doing → (✅ Done /  ⏸️ Blocked-依赖未就绪时)
         
🧊 Icebox ←→ 📋 Planned（根据战略调整）

8. 风险提示的触发条件
在"🚧 Doing"部分添加风险提示，当出现以下情况时：
- 阻塞链超过2层（F-A 等待 F-B，F-B 又等待 F-C）
- 技术债被提升至P0（说明影响关键功能）
- 依赖外部系统且不可控（如第三方API延期）

9. 变更日志的记录时机
以下变更必须记录：
✓ 优先级变更（P1→P0，P0→P2等）
✓ 范围调整（功能砍半、增加子需求）
✓ Task在不同状态组间移动（Planned→Icebox，Icebox→Planned）
✓ Task从Doing→Done（正常流转）
✓ 日常的状态推进

10. 验收标准撰写位置与原则（新增）
- task_map.md 的 Task 清单不填写“预期目标/可测量标准”。
- 将可测量、可验证的验收标准写入 `docs/project/task_<task_id>.md`（基于统一模版）。
- 在“本Sprint焦点/验收里程碑”处，仅保留对演示性/交付的精炼描述。
